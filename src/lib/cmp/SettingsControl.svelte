<script lang="ts">
	import { configStore } from '$lib/stores/config';
	import RangeSlider from 'svelte-range-slider-pips';
	import Section from './UI/Section.svelte';

	let currentColor = $state($configStore.textColor);
	let centerTextOffset = $state($configStore.centerTextOffset);

	function toggleCanvas() {
		configStore.toggleCanvas();
	}

	function toggleGrid() {
		configStore.toggleGrid();
	}

	function setColor() {
		configStore.setColor(currentColor);
	}

	function setcenterTextOffset() {
		configStore.setcenterTextOffset(centerTextOffset);
	}
</script>

<Section title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏–∑–∞–π–Ω–∞">
	<div class="control-group">
		<label class="control-label">
			<span>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</span>
			<input type="color" bind:value={currentColor} class="color-input" onchange={setColor} />
		</label>
	</div>

	<div class="control-group">
		<label class="control-label">
			<span>–°–¥–≤–∏–≥ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞</span>
			<RangeSlider
				bind:value={centerTextOffset}
				min={-400}
				max={100}
				float
				on:change={setcenterTextOffset}
			></RangeSlider>
		</label>
	</div>
	<div class="button-group">
		<button class="btn btn-secondary" onclick={toggleCanvas}>
			<span class="icon">üñºÔ∏è</span>
			–£–≤–µ–ª–∏—á–∏—Ç—å
		</button>
		<button class="btn btn-secondary" onclick={toggleGrid}>
			<span class="icon">üìê</span>
			–°–µ—Ç–∫–∞
		</button>
	</div>
</Section>
